/*! For license information please see main.0ead6c83.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject);__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),client=__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object(client.addParameters)({options:{panelPosition:"right"}}),Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?stories\\.js)$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?stories\\.js)$":function(module,exports,__webpack_require__){var map={"./stories.js":"./src/stories.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?stories\\.js)$"},"./src/sample.json":function(module){module.exports=JSON.parse('{"steps":[{"rows":[{"hint":"Supported file types: WebP, PNG, and JPEG - Max size: 2MB","label":"Cover","fields":[{"name":"cover","type":"fileUpload","accept":"image/*","maxSize":5242380,"multiple":false,"required":"You must upload image cover"}],"labelAlign":"start","labelGutter":true},{"hint":"Select between the centralized managed encrypted cloud storage on AWS and permanent storage on Arweave (200 years solid storage)","label":"Cover Storage Method","fields":[{"name":"storageOption","type":"radio","options":[{"label":"AWS S3 Centralized Encrypted Storage","value":"s3"},{"label":"Arweave Permanent Storage","value":"arweave"}],"stacked":false,"defaultValue":"s3"}],"divider":"Divider"},{"hint":"","label":"Image (High Resolution) Same as Cover?","fields":[{"name":"assetSameAsCover","type":"toggleSwitch"}]},{"hint":"Supported file types: image/* (jpg, png, jpeg) - Max size: 20MB","label":"Image (High Resolution)","fields":[{"name":"image","type":"fileUpload","accept":"image/*","maxSize":20484760,"multiple":false,"required":"You must upload image"}],"conditions":["assetSameAsCover:true:not"],"labelAlign":"start","labelGutter":true},{"hint":"Value of this field would be visible only to owners","label":"Bonus Text","fields":[{"name":"secretPhrase","placeholder":"Unlockable bonus content"}]},{"hint":"These media would be visible only to owners","label":"Bonus Media","fields":[{"name":"bonusMediaEnabled","type":"toggleSwitch"}]},{"label":" ","fields":[{"name":"downloadableAsset","type":"fileUpload","accept":"","multiple":true,"required":"You must upload an asset file","fileNameEditable":true}],"conditions":["bonusMediaEnabled:true"],"labelAlign":"start","labelGutter":true},{"divider":true},{"hint":"physical asset/product, e.g. Sneaker, print, ...","label":"Physical Item","fields":[{"name":"redeemableEnabled","type":"toggleSwitch"}]},{"conditions":["redeemableEnabled:true"],"hint":"Value of this field would be visible only to owners","label":"Description","fields":[{"name":"redeemDescription","placeholder":"Redeemable item description"}]},{"conditions":["redeemableEnabled:true"],"label":"Redeemable Item","fields":[{"name":"redeemImage","type":"fileUpload","accept":"image/*","maxSize":1000000,"multiple":false,"required":"You must upload redeem cover"}],"labelAlign":"start","labelGutter":true},{"hint":"The Sales Contract you can upload for buyers who will buy your NFT","label":"NFT Sales Contract","fields":[{"name":"salesContractEnabled","type":"toggleSwitch"}]},{"label":" ","fields":[{"name":"salesContract","type":"fileUpload","accept":"application/pdf, image/*","multiple":true,"required":"You must upload an asset file"}],"conditions":["salesContractEnabled:true"]},{"label":" ","fields":[{"href":"/docs/sales-contract-template.pdf","size":"sm","type":"link","target":"_blank","content":"Sales Contract Template"}],"conditions":["salesContractEnabled:true"]}],"title":"Media Assets"},{"rows":[{"label":"Title","fields":[{"name":"title","required":"Name is required","placeholder":"Name of your listed image"}]},{"label":"Description - EN","fields":[{"name":"description","type":"textArea","placeholder":"Image description (EN)"}]},{"label":"Description - DE (if No, only EN description will be displayed)","fields":[{"name":"hasDescriptionDe","type":"toggleSwitch"},{"name":"descriptionDe","type":"textArea","conditions":["hasDescriptionDe"],"placeholder":"Image description (DE)"}],"divider":true},{"hint":"Digital or physical asset/product, e.g. Sneaker, print, event ticket, ...","label":"Fractionable","fields":[{"name":"fractionableEnabled","type":"toggleSwitch"}]},{"hint":"The amount of the product, or e.g. the amount of times you can print a piece of art.","label":"Amount","fields":[{"min":1,"name":"fractionsAmount","type":"number","required":"Amount is required","placeholder":"Amount ( min. 1)"}],"conditions":["fractionableEnabled:true"]},{"label":"Enable bidding?","fields":[{"name":"biddingEnabled","type":"toggleSwitch"}]},{"label":"Price","fields":[{"min":"0.01","name":"price","type":"price","required":"Price is required","currencies":[{"sign":"€","label":"EUR (€)","value":"eur"}],"inputProps":{"placeholder":"Price"}}],"divider":true,"conditions":["biddingEnabled:true:not"]},{"label":"Starting Price","fields":[{"min":"0.01","name":"startingPrice","type":"price","currencies":[{"sign":"€","label":"EUR (€)","value":"eur"}],"inputProps":{"placeholder":"Starting Price"}}],"divider":true,"conditions":["biddingEnabled:true"]},{"hint":"Choose between Private and Commercial","label":"License Type","fields":[{"name":"licenseType","type":"borderedRadio","options":[{"label":"Private","value":"private"},{"label":"Commercial","value":"commercial"}],"required":"License type is required"}],"marginBottom":4},{"label":" ","fields":[{"name":"licenseTypeCommercial","type":"radio","options":[{"icon":"calendar-day","label":"Event","value":"event"},{"icon":"broadcast-tower","label":"Radio","value":"radio"},{"icon":"tv","label":"TV","value":"tv"},{"icon":"video","label":"Videos","value":"video"},{"icon":"gem","label":"NFTs","value":"nft"},{"icon":"recycle","label":"Reuse","value":"reuse"}],"stacked":false,"required":"Commercial type is required"}],"conditions":["licenseType:commercial"]}],"title":"License Metrics"},{"name":"initialSalesFees","rows":[{"label":"Name","fields":[{"name":"feeName","required":"Fee name is required","placeholder":"Copyright holder name"}]},{"label":"Category","fields":[{"name":"feeCategory","type":"reactSelect","options":[{"label":"Creator Rights","value":"creator"},{"label":"Recording Rights","value":"recording"},{"label":"Publishing Rights","value":"publishing"},{"label":"Collection Society Rights","value":"collection"}],"required":"Category is required","placeholder":"Copyright category"},{"href":"https://www.gema.de/musikurheber/online-services-fuer-gema-mitglieder/repertoiresuche-erweiterter-zugang/","size":"sm","type":"link","target":"_blank","content":"GEMA Look Up"}]},{"label":"Share amount","fields":[{"name":"feeAmountType","type":"radio","options":[{"label":"Fixed","value":"FIXED"},{"label":"Percentage","value":"PERCENTAGE"}],"stacked":false,"required":"Fee amount is required"}]},{"label":" ","fields":[{"max":"99","min":"1","name":"feeAmountPercentage","step":"0.01","type":"number","required":"Fee percentage is required","conditions":["feeAmountType:PERCENTAGE"],"placeholder":"Fee percentage (1-99)"},{"min":"0.01","name":"feeAmountFixed","type":"price","required":"Fee amount is required","conditions":["feeAmountType:FIXED"],"currencies":[{"sign":"€","label":"EUR (€)","value":"eur"}],"inputProps":{"placeholder":"Fee fixed amount"}}],"conditions":["feeAmountType"]},{"label":"Share recipient","fields":[{"name":"feeRecipientType","type":"radio","options":[{"label":"Address","value":"ADDRESS"},{"label":"Platform User","value":"USER"}],"stacked":false,"required":"Fee recipient is required"}]},{"label":" ","fields":[{"name":"feeAddress","required":"Fee recipient address is required","conditions":["feeRecipientType:ADDRESS"],"placeholder":"Fee recipient address"},{"name":"feeUser","type":"reactSelect","async":true,"endpoint":"/api/users","required":"Fee recipient user is required","conditions":["feeRecipientType:USER"],"placeholder":"Fee recipient","defaultOptions":true}],"divider":true}],"title":"Sales Fees","recurring":true},{"name":"secondarySalesFees","rows":[{"label":"Name","fields":[{"name":"feeName","required":"Fee name is required","placeholder":"Copyright holder name"}]},{"label":"Category","fields":[{"name":"feeCategory","type":"reactSelect","options":[{"label":"Creator Rights","value":"creator"},{"label":"Recording Rights","value":"recording"},{"label":"Publishing Rights","value":"publishing"},{"label":"Collection Society Rights","value":"collection"}],"required":"Category is required","placeholder":"Copyright category"},{"href":"https://www.gema.de/musikurheber/online-services-fuer-gema-mitglieder/repertoiresuche-erweiterter-zugang/","size":"sm","type":"link","target":"_blank","content":"GEMA Look Up"}]},{"label":"Fee Amount","fields":[{"max":"99","min":"1","name":"feeAmountPercentage","step":"0.01","type":"number","required":"Fee percentage is required","placeholder":"Fee percentage (1-99)"}]},{"label":"Share recipient","fields":[{"name":"feeRecipientType","type":"radio","options":[{"label":"Address","value":"ADDRESS"},{"label":"Platform User","value":"USER"}],"stacked":false,"required":"Fee recipient is required"}]},{"label":" ","fields":[{"name":"feeAddress","required":"Fee recipient address is required","conditions":["feeRecipientType:ADDRESS"],"placeholder":"Fee recipient address"},{"name":"feeUser","type":"reactSelect","async":true,"endpoint":"/api/users","required":"Fee recipient user is required","conditions":["feeRecipientType:USER"],"placeholder":"Fee recipient","defaultOptions":true}],"divider":true}],"title":"Recurring Fee","recurring":true},{"rows":[{"fields":[{"name":"terms","type":"checkbox","options":[{"value":true,"labelHtml":"I have read and accept the <a href=\\"/terms\\" target=\\"_blank\\">terms of usage.</a>"}],"required":"You must accept terms of usage"}]},{"fields":[{"name":"owner","type":"checkbox","options":[{"label":"I am the copyright holder of that Image that I upload and / or I am legal representative of that copyright holder.","value":true}],"required":"You must be the copyright holder / legal representative"}]}],"title":"Review & Publish"}],"hiddenValues":[{"name":"redeemType","value":"physical"},{"name":"redeemItemsAmount","value":1},{"name":"redeemValidationDate","value":null},{"name":"amountType","value":"unique"}]}')},"./src/stories.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"main",(function(){return stories_main}));var rockskit_es=__webpack_require__("./node_modules/@licenserocks/kit/dist/rockskit.es.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),index_esm=(__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js")),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/react-masonry-css/dist/react-masonry-css.module.js"),__webpack_require__("./node_modules/react/jsx-runtime.js")),_excluded=["conditions","defaultValue","name","required","type","options"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Field_FormField=function FormField(_ref){var data=_ref.data,field=_ref.field,hasError=_ref.hasError,isRecurring=_ref.isRecurring,recurringIndex=_ref.recurringIndex,stepIndex=_ref.stepIndex,fieldId=_ref.fieldId,rowId=_ref.rowId,stepData=_ref.stepData,_useFormContext=(_ref.merchandise,Object(index_esm.e)()),control=_useFormContext.control,setValue=_useFormContext.setValue,register=_useFormContext.register,defaultValue=(field.conditions,field.defaultValue),name=field.name,required=field.required,type=field.type,options=field.options,others=_objectWithoutProperties(field,_excluded);if("link"===type)return Object(jsx_runtime.jsx)(rockskit_es.w,Object.assign({},others));var Field=function mapFieldTypeToComponent(fieldType){switch(fieldType){case"datepicker":return rockskit_es.h;case"select":return rockskit_es.t;case"borderedRadio":return rockskit_es.c;case"checkbox":return rockskit_es.d;case"radio":return rockskit_es.p;case"toggleSwitch":return rockskit_es.x;case"fileUpload":return rockskit_es.g;case"filePond":return rockskit_es.f;case"price":return rockskit_es.o;case"reactSelect":return rockskit_es.q;case"stepper":return rockskit_es.u;case"textArea":return rockskit_es.v;case"itemSelect":return rockskit_es.m;default:return rockskit_es.l}}(type),fieldKey="step-"+stepIndex+"-row-"+rowId+"-field-"+fieldId,fieldName=isRecurring?data.name+"["+recurringIndex+"]."+name:name,prevValue=isRecurring&&stepData[data.name]&&stepData[data.name][recurringIndex]?stepData[data.name][recurringIndex][name]:stepData[name];return void 0!==(null==field?void 0:field.currencies)&&(field.currencies=null==stepData?void 0:stepData.currencies),Object(jsx_runtime.jsx)(Field,Object.assign({control:control,defaultValue:prevValue||defaultValue,hasError:hasError,isRequired:required,name:fieldName,register:register({required:required}),setValue:setValue,options:options,type:type},others),fieldKey)};Field_FormField.displayName="FormField",Field_FormField.propTypes={data:prop_types_default.a.shape({name:prop_types_default.a.string,recurring:prop_types_default.a.bool,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({}))}).isRequired,field:prop_types_default.a.shape({conditions:prop_types_default.a.arrayOf(prop_types_default.a.string),defaultValue:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]),name:prop_types_default.a.string,required:prop_types_default.a.string,type:prop_types_default.a.string}).isRequired,fieldId:prop_types_default.a.number.isRequired,hasError:prop_types_default.a.bool.isRequired,isRecurring:prop_types_default.a.bool.isRequired,recurringIndex:prop_types_default.a.number,stepIndex:prop_types_default.a.number.isRequired,stepData:prop_types_default.a.shape({}).isRequired,rowId:prop_types_default.a.number.isRequired},Field_FormField.defaultProps={recurringIndex:null};__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var checkCondition=function checkCondition(conditions,watch,wizardData,isRecurring,recurringName,recurringIndex){if(conditions&&conditions.length>0){var _conditionValues$recu,conditionValues=function getConditionValues(conditions,watch,wizardData,isRecurring,recurringName){var name=conditions.map((function(c){return c.includes(":")?_slicedToArray(c.split(":"),1)[0]:c}));return watch(isRecurring?[recurringName]:name,wizardData)}(conditions,watch,wizardData,isRecurring,recurringName),target=isRecurring?null==conditionValues||null===(_conditionValues$recu=conditionValues[recurringName])||void 0===_conditionValues$recu?void 0:_conditionValues$recu[recurringIndex]:conditionValues;if(conditionValues&&target)return conditions.some((function(c){var _target$c;if(c.includes(":")){var _target$name,_c$split4=_slicedToArray(c.split(":"),3),name=_c$split4[0],value=_c$split4[1],not=_c$split4[2],isTrue=target[name]===value||Array.isArray(value)&&(null===(_target$name=target[name])||void 0===_target$name?void 0:_target$name.includes(value))||"true"===value&&Boolean(target[name]);return not?!isTrue:isTrue}return(null===(_target$c=target[c])||void 0===_target$c?void 0:_target$c.length)>0||!!target[c]}))}return!0};function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return FormRows_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||FormRows_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FormRows_slicedToArray(arr,i){return function FormRows_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function FormRows_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||FormRows_unsupportedIterableToArray(arr,i)||function FormRows_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FormRows_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return FormRows_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FormRows_arrayLikeToArray(o,minLen):void 0}}function FormRows_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var StyledRow=Object(styled_components_browser_esm.e)(rockskit_es.i).withConfig({displayName:"FormRows__StyledRow",componentId:"sc-1knzxbr-0"})(["&&{label{:only-child{display:none;}}}background-color:",";&&{","}"],(function(_ref){return _ref.theme.palette.gray.light}),(function(_ref2){return"primary"===_ref2.backgroundStyle&&Object(styled_components_browser_esm.d)(["background-color:",";"],(function(_ref3){return _ref3.theme.palette.common.white}))})),StyledDivider=Object(styled_components_browser_esm.e)(rockskit_es.e).withConfig({displayName:"FormRows__StyledDivider",componentId:"sc-1knzxbr-1"})(["&&{","}"],(function(_ref4){return"primary"===_ref4.backgroundStyle&&Object(styled_components_browser_esm.d)(["background-color:",";"],(function(_ref5){return _ref5.theme.palette.common.white}))})),Hint=styled_components_browser_esm.e.span.withConfig({displayName:"FormRows__Hint",componentId:"sc-1knzxbr-2"})(["background:#f0f0f4;border-radius:100%;width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;margin-left:8px;vertical-align:middle;svg{color:#8685a6;font-size:10px;}"]),FormRows_FormRows=function FormRows(_ref6){var data=_ref6.data,index=_ref6.index,isRecurring=_ref6.isRecurring,rows=_ref6.rows,stepIndex=_ref6.stepIndex,stepData=_ref6.stepData,merchandise=_ref6.merchandise,_useFormContext=Object(index_esm.e)(),errors=_useFormContext.errors,watch=_useFormContext.watch,_useState2=FormRows_slicedToArray(Object(react.useState)(!1),2),expanded=_useState2[0],setExpanded=_useState2[1],showExpandButton=null==rows?void 0:rows.some((function(row){return row.expandable}));return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[null==rows?void 0:rows.map((function(row,idx){var _row$marginBottom,_row$fields,rowKey="step-"+stepIndex+"-row-"+idx,rowErrors=[];if(!checkCondition(row.conditions,watch,stepData,isRecurring,data.name,index))return null;if(null!=row&&row.heading)return Object(jsx_runtime.jsx)(rockskit_es.j,{content:null==row?void 0:row.heading,px:4,mt:4,mb:2});var showRow=!row.expandable||expanded,label=_toConsumableArray(row.label||[]);return row.hint&&label.push(Object(jsx_runtime.jsx)(rockskit_es.y,{content:row.hint,contentProps:{fontStyle:"normal"},children:Object(jsx_runtime.jsx)(Hint,{children:Object(jsx_runtime.jsx)(rockskit_es.k,{icon:"question"})})})),Object(jsx_runtime.jsxs)(react.Fragment,{children:[Object(jsx_runtime.jsxs)(StyledRow,{errors:rowErrors,label:label.length>0?label:null,labelAlign:row.labelAlign,labelGutter:row.labelGutter,mb:0,pb:null!==(_row$marginBottom=null==row?void 0:row.marginBottom)&&void 0!==_row$marginBottom?_row$marginBottom:4,pt:4,px:16,show:showRow,backgroundStyle:null==row?void 0:row.backgroundStyle,children:[row.message&&Object(jsx_runtime.jsx)(rockskit_es.a,{color:row.messageColor,content:row.message,mb:2}),null===(_row$fields=row.fields)||void 0===_row$fields?void 0:_row$fields.map((function(field,fieldId){var _errors$data$name$ind,_errors$field$name,error=isRecurring&&errors[data.name]&&errors[data.name][index]?null===(_errors$data$name$ind=errors[data.name][index][field.name])||void 0===_errors$data$name$ind?void 0:_errors$data$name$ind.message:null===(_errors$field$name=errors[field.name])||void 0===_errors$field$name?void 0:_errors$field$name.message;return error&&rowErrors.push(error),checkCondition(field.conditions,watch,stepData,isRecurring,data.name,index)?Object(jsx_runtime.jsx)(Field_FormField,{data:data,field:field,fieldId:fieldId,hasError:!!error,isRecurring:isRecurring,recurringIndex:index,rowId:idx,stepIndex:stepIndex,stepData:stepData,merchandise:"selectMerchIds"===(null==field?void 0:field.name)?merchandise:null}):null}))]}),(null==row?void 0:row.divider)&&Object(jsx_runtime.jsx)(StyledDivider,{backgroundStyle:null==row?void 0:row.backgroundStyle,py:null==row?void 0:row.dividerSize,px:5,m:0,pb:4})]},rowKey)})),showExpandButton&&Object(jsx_runtime.jsx)(rockskit_es.n,{color:"secondary",onClick:function onClick(){return setExpanded((function(prev){return!prev}))},size:"sm",children:expanded?"Hide Optional Params":"Show Optional Params"})]})};FormRows_FormRows.propTypes={data:prop_types_default.a.shape({name:prop_types_default.a.string,recurring:prop_types_default.a.bool,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({}))}).isRequired,stepIndex:prop_types_default.a.number.isRequired,stepData:prop_types_default.a.shape({}).isRequired,index:prop_types_default.a.number.isRequired,isRecurring:prop_types_default.a.bool.isRequired,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({})).isRequired},FormRows_FormRows.defaultProps={};var Wrapper=styled_components_browser_esm.e.div.withConfig({displayName:"Form__Wrapper",componentId:"sc-11kuada-0"})(["padding:",";background-color:",";border:1px solid ",";border-radius:16px;margin:",";&&{","}"],(function(_ref){return _ref.theme.spacing(2,2,2,6)}),(function(_ref2){return _ref2.theme.palette.gray.light}),(function(_ref3){return _ref3.theme.palette.gray.regular}),(function(_ref4){return _ref4.theme.spacing(5)}),(function(_ref5){return _ref5.disabled&&Object(styled_components_browser_esm.d)(["opacity:0.5;cursor:not-allowed !important;pointer-events:none;"])})),ButtonsWrapper=styled_components_browser_esm.e.div.withConfig({displayName:"Form__ButtonsWrapper",componentId:"sc-11kuada-1"})(["display:flex;align-items:center;justify-content:flex-end;margin-bottom:8px;"]),Form_Form=function Form(_ref6){var data=_ref6.data,defaultValues=_ref6.defaultValues,stepIndex=_ref6.stepIndex,stepFormData=_ref6.stepFormData,merchandise=_ref6.merchandise,isRecurring=data.recurring,_useFieldArray=Object(index_esm.c)({name:isRecurring?null==data?void 0:data.name:""}),fields=_useFieldArray.fields,append=_useFieldArray.append,remove=_useFieldArray.remove,renderRows=function renderRows(index){return Object(jsx_runtime.jsx)(FormRows_FormRows,{data:data,index:index,isRecurring:isRecurring,rows:data.rows,stepIndex:stepIndex,stepData:stepFormData,merchandise:merchandise})};return isRecurring?function renderRecurring(){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[fields.map((function(item,idx){var _defaultValues$data$n,_defaultValues$data$n2,disabled=null==defaultValues||null===(_defaultValues$data$n=defaultValues[data.name])||void 0===_defaultValues$data$n||null===(_defaultValues$data$n2=_defaultValues$data$n[idx])||void 0===_defaultValues$data$n2?void 0:_defaultValues$data$n2.disabled;return Object(jsx_runtime.jsxs)(Wrapper,{disabled:disabled,children:[Object(jsx_runtime.jsxs)(ButtonsWrapper,{children:[disabled&&Object(jsx_runtime.jsx)(rockskit_es.a,{content:"This is a default item and can't be removed/changed.",mr:2}),Object(jsx_runtime.jsx)(rockskit_es.n,{color:"danger",disabled:disabled,onClick:function onClick(){return remove(idx)},size:"sm",children:Object(jsx_runtime.jsx)(rockskit_es.k,{icon:"trash",prefix:"fa"})})]}),renderRows(idx)]},item.id)})),Object(jsx_runtime.jsx)(rockskit_es.w,{content:"+ Add item",onClick:append,size:"sm"})]})}():renderRows()};Form_Form.propTypes={data:prop_types_default.a.shape({name:prop_types_default.a.string,recurring:prop_types_default.a.bool,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({}))}).isRequired,stepIndex:prop_types_default.a.number.isRequired,stepFormData:prop_types_default.a.shape({})},Form_Form.defaultProps={stepFormData:{}};var components_Form_Form=Form_Form,index_es=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),MegaFlowIcons={faDownload:index_es.t,faHashtag:index_es.B,faTrash:index_es.W},MegaFlowPropTypes={defaultValues:prop_types_default.a.shape({}),icons:prop_types_default.a.arrayOf(prop_types_default.a.shape()),schema:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]).isRequired,onFinish:prop_types_default.a.func,onStepSubmit:prop_types_default.a.func,renderActionButtons:prop_types_default.a.func,theme:prop_types_default.a.shape(),watcher:prop_types_default.a.func,watchList:prop_types_default.a.arrayOf(prop_types_default.a.string),wizardProps:prop_types_default.a.shape(),wrapperProps:prop_types_default.a.shape()},src_excluded=["defaultValues","icons","schema","onFinish","onStepSubmit","renderActionButtons","theme","watcher","livePreview","wizardProps","wrapperProps"],_excluded2=["formState","getValues","handleSubmit"];function src_slicedToArray(arr,i){return function src_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function src_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function src_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return src_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return src_arrayLikeToArray(o,minLen)}(arr,i)||function src_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function src_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function src_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function src_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var src_Wrapper=styled_components_browser_esm.e.div.withConfig({displayName:"src__Wrapper",componentId:"sc-osiobx-0"})(["background-color:",";"],(function(_ref){return _ref.theme.palette.gray.light})),getOutputData=function getOutputData(output){return Object.values(output).reduce((function(obj,acc){return Object.assign({},obj,acc)}),{})},src_MegaFlow=function MegaFlow(_ref2){var defaultValues=_ref2.defaultValues,icons=_ref2.icons,schema=_ref2.schema,onFinish=_ref2.onFinish,onStepSubmit=_ref2.onStepSubmit,_renderActionButtons=_ref2.renderActionButtons,theme=_ref2.theme,watcher=_ref2.watcher,livePreview=_ref2.livePreview,wizardProps=_ref2.wizardProps,wrapperProps=_ref2.wrapperProps,props=src_objectWithoutProperties(_ref2,src_excluded),parsedSchema="string"==typeof schema?JSON.parse(schema):schema,steps=parsedSchema.steps,hiddenValues=parsedSchema.hiddenValues,_useState2=src_slicedToArray(Object(react.useState)(0),2),currentStep=_useState2[0],setCurrentStep=_useState2[1],isCurrentLastStep=currentStep===steps.length-1,_useState4=src_slicedToArray(Object(react.useState)({}),2),wizardData=_useState4[0],setWizardData=_useState4[1],_useState6=src_slicedToArray(Object(react.useState)({}),2),hiddenData=_useState6[0],setHiddenData=_useState6[1],_useForm=Object(index_esm.d)(),getValues=(_useForm.formState,_useForm.getValues),handleSubmit=_useForm.handleSubmit,methods=src_objectWithoutProperties(_useForm,_excluded2),stepFormData=wizardData[currentStep]||defaultValues;Object(react.useEffect)((function(){methods.reset(stepFormData),hiddenValues&&0===currentStep&&setHiddenData(function getHiddenValues(array,key){return array.reduce((function(obj,item){var _Object$assign;return Object.assign({},obj,((_Object$assign={})[item.name]=null==item?void 0:item.value,_Object$assign))}),{})}(hiddenValues)),watcher&&watcher(getOutputData(wizardData))}),[currentStep]);var stepsArray=steps.map((function(st){return{title:st.title}}));return Object(jsx_runtime.jsx)(rockskit_es.b,{icons:Object.assign({},rockskit_es.r,MegaFlowIcons,icons),theme:theme||Object(rockskit_es.s)(),children:Object(jsx_runtime.jsx)(src_Wrapper,Object.assign({},wrapperProps,{children:Object(jsx_runtime.jsx)("form",{onBlur:function onBlur(event){event.preventDefault();var values=getValues(),data=Object.assign(values,hiddenData);livePreview&&livePreview(data)},onSubmit:handleSubmit((function onSubmit(data){var _Object$assign2,currentState=Object.assign({hiddenData:hiddenData},wizardData,((_Object$assign2={})[currentStep]=data,_Object$assign2));setWizardData(currentState),onStepSubmit&&onStepSubmit(data),isCurrentLastStep?onFinish(getOutputData(currentState)):setCurrentStep((function(prev){return prev+1}))})),children:Object(jsx_runtime.jsx)(index_esm.b,Object.assign({},methods,{children:Object(jsx_runtime.jsx)(rockskit_es.z,Object.assign({currentStepContent:function renderForm(){return Object(jsx_runtime.jsx)(components_Form_Form,{data:steps[currentStep],stepIndex:currentStep,stepFormData:stepFormData,defaultValues:defaultValues,merchandise:props.merchandise},currentStep)}(),currentStepIndex:currentStep,renderActionButtons:function renderActionButtons(){return _renderActionButtons(getOutputData(wizardData))},setCurrentStepIndex:setCurrentStep,steps:stepsArray,backgroundStyle:"primary"},wizardProps,props))}))})}))})};src_MegaFlow.displayName="MegaFlow",src_MegaFlow.propTypes=MegaFlowPropTypes,src_MegaFlow.defaultProps={defaultValues:{},icons:[],onFinish:function onFinish(){},renderActionButtons:function renderActionButtons(){},watchList:[]};var src=src_MegaFlow,sample=__webpack_require__("./src/sample.json"),stories_Wrapper=(__webpack_exports__.default={title:"MegaFlow"},styled_components_browser_esm.e.div.withConfig({displayName:"stories__Wrapper",componentId:"sc-4r7zl6-0"})(["width:680px;margin:auto;padding:16px 0;"])),stories_main=(styled_components_browser_esm.e.div.withConfig({displayName:"stories__SelectContent",componentId:"sc-4r7zl6-1"})(["display:flex;align-items:center;justify-content:space-between;"]),styled_components_browser_esm.e.div.withConfig({displayName:"stories__Content",componentId:"sc-4r7zl6-2"})(["display:flex;align-items:center;img{margin-right:",";}"],(function(_ref){return _ref.theme.spacing(2)})),function main(){return Object(jsx_runtime.jsx)(stories_Wrapper,{children:Object(jsx_runtime.jsx)(src,{defaultValues:{initialSalesFees:[{disabled:!0,feeName:"ROBA MUSIC",feeUser:{label:"ROBA Music Verlag GmbH (nft@roba.com)",value:7},feeCategory:{label:"Creator Rights",value:"creator"},feeAmountType:"PERCENTAGE",feeRecipientType:"USER",feeAmountPercentage:15}],secondarySalesFees:[{disabled:!0,feeName:"PMR Music",feeUser:{label:"PMR MUSIC (nft@pmr-music.com)",value:8},feeCategory:{label:"Recording Rights",value:"recording"},feeRecipientType:"USER",feeAmountPercentage:7}],currencies:[{sign:"€",label:"EUR (€)",value:"eur"},{sign:"zł",label:"PLN (zł)",value:"pln"},{sign:"$",label:"USD ($)",value:"usd"},{sign:"£",label:"GBP (£)",value:"gbp"}]},onFinish:function onFinish(output){console.log("output: ",output)},renderActionButtons:function renderActionButtons(wizardData){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(rockskit_es.w,{content:"Save as Draft",color:"secondary",dInline:!0,mr:4,onClick:function onClick(){return console.log("wizardData: ",wizardData)}}),Object(jsx_runtime.jsx)(rockskit_es.n,{color:"secondary",content:"Schedule",dInline:!0,mr:4,onClick:function onClick(){return console.log("wizardData: ",wizardData)}})]})},merchandise:[{id:12222342435,coverSrc:"https://creatorshub.s3.eu-central-1.amazonaws.com/0xbC80A63aA97633aEe78caB002E3fcCEeaF21b506/nftFiles/119/cover/7DCAFA29-0898-4B43-B085-046461C9A606.jpeg",title:"Sneackers"},{id:1227898935,coverSrc:"https://creatorshub.s3.eu-central-1.amazonaws.com/0xbC80A63aA97633aEe78caB002E3fcCEeaF21b506/nftFiles/147/cover/images.jpeg",title:"Jordans"},{id:9022372435,coverSrc:"https://creatorshub.s3.eu-central-1.amazonaws.com/0x3391fE5A9B72A737E0F7e0461b4Cf7F977c8C59A/nftFiles/170/cover/Metabear.png",title:"Glasses"}],schema:sample,watcher:function handleWatch(data){console.log("data: ",data)},livePreview:function handlePreview(data){console.log("live data: ",data)}})})});stories_main.displayName="main"},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-knobs/dist/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,153,154]]]);
//# sourceMappingURL=main.0ead6c83.iframe.bundle.js.map