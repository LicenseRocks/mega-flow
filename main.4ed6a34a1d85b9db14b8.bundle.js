(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{377:function(module){module.exports=JSON.parse('{"steps":[{"title":"Basic info","rows":[{"divider":true,"label":"Title (English)","fields":[{"name":"title","placeholder":"The English title of the movie","required":"Title is required"}]},{"label":"Amount","fields":[{"name":"amount","placeholder":"Amount","required":"Amount is required","type":"number"}],"marginBottom":8},{"label":"Price","fields":[{"name":"price","placeholder":"Price","required":"Price is required","type":"price"}]}]},{"title":"Availability","rows":[{"fields":[{"defaultValue":"request","options":[{"label":"All visitors","value":"all"},{"label":"Upon request","value":"request"}],"name":"availability","required":"Availability is required","type":"borderedRadio"}]}]},{"title":"Types of rights","rows":[{"fields":[{"allowSelectAll":true,"allOption":{"label":"All rights","value":"*"},"options":[{"label":"Theatrical","value":"theatrical"},{"label":"Non-Theatrical","value":"non-theatrical"},{"label":"TVOD (Transactional VoD)","value":"tvod"},{"label":"EST (Electronic Sell Through)","value":"est"},{"label":"DTR (Download to Rent)","value":"dtr"},{"label":"SVOD (Subscription VoD)","value":"sovd"},{"label":"Pay TV","value":"pay-tv"},{"label":"Free TV","value":"free-tv"},{"label":"AVOD (Ad supported VoD)","value":"avod"},{"label":"Video Rights","value":"video-rights"},{"label":"Educational","value":"educational"},{"label":"Airlines","value":"airlines"},{"label":"Hotels","value":"hotels"},{"label":"Ships","value":"ships"},{"label":"Trains and Buses","value":"trains-buses"}],"name":"rightType","placeholder":"Please select Types of rights","required":"Types of rights is required","type":"reactSelect"}]}]},{"title":"Territories","rows":[{"fields":[{"allowSelectAll":true,"allOption":{"label":"All countries","value":"*"},"name":"territories","options":[{"label":"Afghanistan","value":"AF"},{"label":"Ã…land Islands","value":"AX"},{"label":"Albania","value":"AL"},{"label":"Algeria","value":"DZ"},{"label":"American Samoa","value":"AS"},{"label":"Andorra","value":"AD"},{"label":"Angola","value":"AO"},{"label":"Anguilla","value":"AI"},{"label":"Antarctica","value":"AQ"},{"label":"Antigua and Barbuda","value":"AG"},{"label":"Argentina","value":"AR"},{"label":"Armenia","value":"AM"},{"label":"Aruba","value":"AW"},{"label":"Australia","value":"AU"},{"label":"Austria","value":"AT"},{"label":"Azerbaijan","value":"AZ"},{"label":"Bahamas","value":"BS"},{"label":"Bahrain","value":"BH"},{"label":"Bangladesh","value":"BD"},{"label":"Barbados","value":"BB"},{"label":"Belarus","value":"BY"},{"label":"Belgium","value":"BE"},{"label":"Belize","value":"BZ"},{"label":"Benin","value":"BJ"},{"label":"Bermuda","value":"BM"},{"label":"Bhutan","value":"BT"},{"label":"Bolivia","value":"BO"},{"label":"Bosnia and Herzegovina","value":"BA"},{"label":"Botswana","value":"BW"},{"label":"Bouvet Island","value":"BV"},{"label":"Brazil","value":"BR"},{"label":"British Indian Ocean Territory","value":"IO"},{"label":"Brunei Darussalam","value":"BN"},{"label":"Bulgaria","value":"BG"},{"label":"Burkina Faso","value":"BF"},{"label":"Burundi","value":"BI"},{"label":"Cambodia","value":"KH"},{"label":"Cameroon","value":"CM"},{"label":"Canada","value":"CA"},{"label":"Cape Verde","value":"CV"},{"label":"Cayman Islands","value":"KY"},{"label":"Central African Republic","value":"CF"},{"label":"Chad","value":"TD"},{"label":"Chile","value":"CL"},{"label":"China","value":"CN"},{"label":"Christmas Island","value":"CX"},{"label":"Cocos (Keeling) Islands","value":"CC"},{"label":"Colombia","value":"CO"},{"label":"Comoros","value":"KM"},{"label":"Congo","value":"CG"},{"label":"Congo, The Democratic Republic of the","value":"CD"},{"label":"Cook Islands","value":"CK"},{"label":"Costa Rica","value":"CR"},{"label":"Cote D\'Ivoire","value":"CI"},{"label":"Croatia","value":"HR"},{"label":"Cuba","value":"CU"},{"label":"Cyprus","value":"CY"},{"label":"Czech Republic","value":"CZ"},{"label":"Denmark","value":"DK"},{"label":"Djibouti","value":"DJ"},{"label":"Dominica","value":"DM"},{"label":"Dominican Republic","value":"DO"},{"label":"Ecuador","value":"EC"},{"label":"Egypt","value":"EG"},{"label":"El Salvador","value":"SV"},{"label":"Equatorial Guinea","value":"GQ"},{"label":"Eritrea","value":"ER"},{"label":"Estonia","value":"EE"},{"label":"Ethiopia","value":"ET"},{"label":"Falkland Islands (Malvinas)","value":"FK"},{"label":"Faroe Islands","value":"FO"},{"label":"Fiji","value":"FJ"},{"label":"Finland","value":"FI"},{"label":"France","value":"FR"},{"label":"French Guiana","value":"GF"},{"label":"French Polynesia","value":"PF"},{"label":"French Southern Territories","value":"TF"},{"label":"Gabon","value":"GA"},{"label":"Gambia","value":"GM"},{"label":"Georgia","value":"GE"},{"label":"Germany","value":"DE"},{"label":"Ghana","value":"GH"},{"label":"Gibraltar","value":"GI"},{"label":"Greece","value":"GR"},{"label":"Greenland","value":"GL"},{"label":"Grenada","value":"GD"},{"label":"Guadeloupe","value":"GP"},{"label":"Guam","value":"GU"},{"label":"Guatemala","value":"GT"},{"label":"Guernsey","value":"GG"},{"label":"Guinea","value":"GN"},{"label":"Guinea-Bissau","value":"GW"},{"label":"Guyana","value":"GY"},{"label":"Haiti","value":"HT"},{"label":"Heard Island and Mcdonald Islands","value":"HM"},{"label":"Holy See (Vatican City State)","value":"VA"},{"label":"Honduras","value":"HN"},{"label":"Hong Kong","value":"HK"},{"label":"Hungary","value":"HU"},{"label":"Iceland","value":"IS"},{"label":"India","value":"IN"},{"label":"Indonesia","value":"ID"},{"label":"Iran, Islamic Republic Of","value":"IR"},{"label":"Iraq","value":"IQ"},{"label":"Ireland","value":"IE"},{"label":"Isle of Man","value":"IM"},{"label":"Israel","value":"IL"},{"label":"Italy","value":"IT"},{"label":"Jamaica","value":"JM"},{"label":"Japan","value":"JP"},{"label":"Jersey","value":"JE"},{"label":"Jordan","value":"JO"},{"label":"Kazakhstan","value":"KZ"},{"label":"Kenya","value":"KE"},{"label":"Kiribati","value":"KI"},{"label":"Korea, Democratic People\'S Republic of","value":"KP"},{"label":"Korea, Republic of","value":"KR"},{"label":"Kuwait","value":"KW"},{"label":"Kyrgyzstan","value":"KG"},{"label":"Lao People\'S Democratic Republic","value":"LA"},{"label":"Latvia","value":"LV"},{"label":"Lebanon","value":"LB"},{"label":"Lesotho","value":"LS"},{"label":"Liberia","value":"LR"},{"label":"Libyan Arab Jamahiriya","value":"LY"},{"label":"Liechtenstein","value":"LI"},{"label":"Lithuania","value":"LT"},{"label":"Luxembourg","value":"LU"},{"label":"Macao","value":"MO"},{"label":"Macedonia, The Former Yugoslav Republic of","value":"MK"},{"label":"Madagascar","value":"MG"},{"label":"Malawi","value":"MW"},{"label":"Malaysia","value":"MY"},{"label":"Maldives","value":"MV"},{"label":"Mali","value":"ML"},{"label":"Malta","value":"MT"},{"label":"Marshall Islands","value":"MH"},{"label":"Martinique","value":"MQ"},{"label":"Mauritania","value":"MR"},{"label":"Mauritius","value":"MU"},{"label":"Mayotte","value":"YT"},{"label":"Mexico","value":"MX"},{"label":"Micronesia, Federated States of","value":"FM"},{"label":"Moldova, Republic of","value":"MD"},{"label":"Monaco","value":"MC"},{"label":"Mongolia","value":"MN"},{"label":"Montserrat","value":"MS"},{"label":"Morocco","value":"MA"},{"label":"Mozambique","value":"MZ"},{"label":"Myanmar","value":"MM"},{"label":"Namibia","value":"NA"},{"label":"Nauru","value":"NR"},{"label":"Nepal","value":"NP"},{"label":"Netherlands","value":"NL"},{"label":"Netherlands Antilles","value":"AN"},{"label":"New Caledonia","value":"NC"},{"label":"New Zealand","value":"NZ"},{"label":"Nicaragua","value":"NI"},{"label":"Niger","value":"NE"},{"label":"Nigeria","value":"NG"},{"label":"Niue","value":"NU"},{"label":"Norfolk Island","value":"NF"},{"label":"Northern Mariana Islands","value":"MP"},{"label":"Norway","value":"NO"},{"label":"Oman","value":"OM"},{"label":"Pakistan","value":"PK"},{"label":"Palau","value":"PW"},{"label":"Palestinian Territory, Occupied","value":"PS"},{"label":"Panama","value":"PA"},{"label":"Papua New Guinea","value":"PG"},{"label":"Paraguay","value":"PY"},{"label":"Peru","value":"PE"},{"label":"Philippines","value":"PH"},{"label":"Pitcairn","value":"PN"},{"label":"Poland","value":"PL"},{"label":"Portugal","value":"PT"},{"label":"Puerto Rico","value":"PR"},{"label":"Qatar","value":"QA"},{"label":"Reunion","value":"RE"},{"label":"Romania","value":"RO"},{"label":"Russian Federation","value":"RU"},{"label":"RWANDA","value":"RW"},{"label":"Saint Helena","value":"SH"},{"label":"Saint Kitts and Nevis","value":"KN"},{"label":"Saint Lucia","value":"LC"},{"label":"Saint Pierre and Miquelon","value":"PM"},{"label":"Saint Vincent and the Grenadines","value":"VC"},{"label":"Samoa","value":"WS"},{"label":"San Marino","value":"SM"},{"label":"Sao Tome and Principe","value":"ST"},{"label":"Saudi Arabia","value":"SA"},{"label":"Senegal","value":"SN"},{"label":"Serbia and Montenegro","value":"CS"},{"label":"Seychelles","value":"SC"},{"label":"Sierra Leone","value":"SL"},{"label":"Singapore","value":"SG"},{"label":"Slovakia","value":"SK"},{"label":"Slovenia","value":"SI"},{"label":"Solomon Islands","value":"SB"},{"label":"Somalia","value":"SO"},{"label":"South Africa","value":"ZA"},{"label":"South Georgia and the South Sandwich Islands","value":"GS"},{"label":"Spain","value":"ES"},{"label":"Sri Lanka","value":"LK"},{"label":"Sudan","value":"SD"},{"label":"Suriname","value":"SR"},{"label":"Svalbard and Jan Mayen","value":"SJ"},{"label":"Swaziland","value":"SZ"},{"label":"Sweden","value":"SE"},{"label":"Switzerland","value":"CH"},{"label":"Syrian Arab Republic","value":"SY"},{"label":"Taiwan, Province of China","value":"TW"},{"label":"Tajikistan","value":"TJ"},{"label":"Tanzania, United Republic of","value":"TZ"},{"label":"Thailand","value":"TH"},{"label":"Timor-Leste","value":"TL"},{"label":"Togo","value":"TG"},{"label":"Tokelau","value":"TK"},{"label":"Tonga","value":"TO"},{"label":"Trinidad and Tobago","value":"TT"},{"label":"Tunisia","value":"TN"},{"label":"Turkey","value":"TR"},{"label":"Turkmenistan","value":"TM"},{"label":"Turks and Caicos Islands","value":"TC"},{"label":"Tuvalu","value":"TV"},{"label":"Uganda","value":"UG"},{"label":"Ukraine","value":"UA"},{"label":"United Arab Emirates","value":"AE"},{"label":"United Kingdom","value":"GB"},{"label":"United States","value":"US"},{"label":"United States Minor Outlying Islands","value":"UM"},{"label":"Uruguay","value":"UY"},{"label":"Uzbekistan","value":"UZ"},{"label":"Vanuatu","value":"VU"},{"label":"Venezuela","value":"VE"},{"label":"Viet Nam","value":"VN"},{"label":"Virgin Islands, British","value":"VG"},{"label":"Virgin Islands, U.S.","value":"VI"},{"label":"Wallis and Futuna","value":"WF"},{"label":"Western Sahara","value":"EH"},{"label":"Yemen","value":"YE"},{"label":"Zambia","value":"ZM"},{"label":"Zimbabwe","value":"ZW"}],"placeholder":"Please select Territories","required":"Territories is required","type":"reactSelect"}]}]},{"title":"Duration","rows":[{"fields":[{"name":"duration","options":[{"label":"Unlimited","value":"unlimited"},{"label":"From","value":"from"},{"label":"Until","value":"until"}],"placeholder":"Please select Duration","required":"Duration is required","type":"checkbox"},{"conditions":["duration:from"],"name":"from","placeholder":"From (e.g 2020-09-20)","required":"From is required"},{"conditions":["duration:until"],"name":"until","placeholder":"Until (e.g 2020-09-20)","required":"Until is required"}]}]},{"title":"Exclusivity","rows":[{"fields":[{"options":[{"label":"Exclusive","value":"exclusive"},{"label":"Non-exclusive","value":"non-exclusive"}],"name":"exclusivity","required":"Exclusivity is required","type":"borderedRadio"}]}]},{"title":"Cover","rows":[{"fields":[{"multi":false,"name":"cover","required":"Cover is required","type":"fileUpload"}]}]}]}')},386:function(module,exports,__webpack_require__){__webpack_require__(387),__webpack_require__(536),__webpack_require__(537),__webpack_require__(716),module.exports=__webpack_require__(726)},453:function(module,exports){},537:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(152);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{panelPosition:"right"}})},726:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(152);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(728)],module)}.call(this,__webpack_require__(727)(module))},728:function(module,exports,__webpack_require__){var map={"./stories.js":845};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=728},845:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"main",(function(){return main}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),styled_components_browser_esm=__webpack_require__(2),index_esm=(__webpack_require__(26),__webpack_require__(32),__webpack_require__(33),__webpack_require__(136),__webpack_require__(47),__webpack_require__(67),__webpack_require__(89),__webpack_require__(40),__webpack_require__(27),__webpack_require__(57),__webpack_require__(108),__webpack_require__(28),__webpack_require__(59),__webpack_require__(48),__webpack_require__(319),__webpack_require__(60),__webpack_require__(729),__webpack_require__(730),__webpack_require__(49),__webpack_require__(23),__webpack_require__(50),__webpack_require__(34),__webpack_require__(51),__webpack_require__(35),__webpack_require__(19)),rockskit_es=__webpack_require__(10),prop_types=__webpack_require__(1),prop_types_default=__webpack_require__.n(prop_types);__webpack_require__(25),__webpack_require__(127),__webpack_require__(201),__webpack_require__(58),__webpack_require__(203),__webpack_require__(332);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var checkCondition=function(conditions,control,wizardData){if(conditions&&0<conditions.length){var conditionValues=function(conditions,control,wizardData){var name=conditions.map((function(c){return c.includes(":")?_slicedToArray(c.split(":"),1)[0]:c}));return Object(index_esm.f)({control:control,name:name,defaultValue:wizardData})}(conditions,control,wizardData);return conditions.some((function(c){var _conditionValues$c;if(c.includes(":")){var _conditionValues$name,_c$split4=_slicedToArray(c.split(":"),2),name=_c$split4[0],value=_c$split4[1];return conditionValues[name]===value||(null===(_conditionValues$name=conditionValues[name])||void 0===_conditionValues$name?void 0:_conditionValues$name.includes(value))}return 0<(null===(_conditionValues$c=conditionValues[c])||void 0===_conditionValues$c?void 0:_conditionValues$c.length)}))}return!0},FormField=function(_ref){var data=_ref.data,field=_ref.field,hasError=_ref.hasError,isRecurring=_ref.isRecurring,recurringIndex=_ref.recurringIndex,stepIndex=_ref.stepIndex,fieldId=_ref.fieldId,rowId=_ref.rowId,wizardData=_ref.wizardData,_useFormContext=Object(index_esm.e)(),control=_useFormContext.control,register=_useFormContext.register,conditions=field.conditions,defaultValue=field.defaultValue,name=field.name,required=field.required,type=field.type,others=_objectWithoutProperties(field,["conditions","defaultValue","name","required","type"]),Field=function(fieldType){switch(fieldType){case"select":return rockskit_es.q;case"borderedRadio":return rockskit_es.c;case"checkbox":return rockskit_es.d;case"radio":return rockskit_es.m;case"toggleSwitch":return rockskit_es.u;case"fileUpload":return rockskit_es.g;case"filePond":return rockskit_es.f;case"price":return rockskit_es.l;case"reactSelect":return rockskit_es.n;case"stepper":return rockskit_es.r;case"textArea":return rockskit_es.s;default:return rockskit_es.j}}(type),fieldKey="step-".concat(stepIndex,"-row-").concat(rowId,"-field-").concat(fieldId),fieldName=isRecurring?"".concat(data.name,"[").concat(recurringIndex,"].").concat(name):name,prevValue=isRecurring&&wizardData[data.name]&&wizardData[data.name][recurringIndex]?wizardData[data.name][recurringIndex][name]:wizardData[name];return checkCondition(conditions,control,wizardData)?react_default.a.createElement(Field,_extends({control:control,defaultValue:prevValue||defaultValue,hasError:hasError,isRequired:required,key:fieldKey,name:fieldName,register:register({required:required}),type:type},others)):null};function FormRows_slicedToArray(arr,i){return function FormRows_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function FormRows_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function FormRows_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return FormRows_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FormRows_arrayLikeToArray(o,minLen)}(arr,i)||function FormRows_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FormRows_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}FormField.displayName="FormField",FormField.propTypes={data:prop_types_default.a.shape({name:prop_types_default.a.string,recurring:prop_types_default.a.bool,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({}))}).isRequired,field:prop_types_default.a.shape({conditions:prop_types_default.a.arrayOf(prop_types_default.a.string),defaultValue:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]),name:prop_types_default.a.string,required:prop_types_default.a.string,type:prop_types_default.a.string}).isRequired,fieldId:prop_types_default.a.number.isRequired,hasError:prop_types_default.a.bool.isRequired,isRecurring:prop_types_default.a.bool.isRequired,recurringIndex:prop_types_default.a.number,stepIndex:prop_types_default.a.number.isRequired,wizardData:prop_types_default.a.shape({}).isRequired,rowId:prop_types_default.a.number.isRequired},FormField.defaultProps={recurringIndex:null};var FormRows=function(_ref){var data=_ref.data,index=_ref.index,isRecurring=_ref.isRecurring,rows=_ref.rows,stepIndex=_ref.stepIndex,wizardData=_ref.wizardData,errors=Object(index_esm.e)().errors,_useState2=FormRows_slicedToArray(Object(react.useState)(!1),2),expanded=_useState2[0],setExpanded=_useState2[1],showExpandButton=null==rows?void 0:rows.some((function(row){return row.expandable}));return react_default.a.createElement(react_default.a.Fragment,null,null==rows?void 0:rows.map((function(row,idx){var _row$fields,rowKey="step-".concat(stepIndex,"-row-").concat(idx),rowErrors=[],showRow=!row.expandable||expanded;return react_default.a.createElement(react.Fragment,{key:rowKey},react_default.a.createElement(rockskit_es.h,{errors:rowErrors,label:row.label,mb:null==row?void 0:row.marginBottom,show:showRow},row.message&&react_default.a.createElement(rockskit_es.a,{color:row.messageColor,content:row.message,mb:2}),null===(_row$fields=row.fields)||void 0===_row$fields?void 0:_row$fields.map((function(field,fieldId){var _errors$data$name$ind,_errors$field$name,error=isRecurring&&errors[data.name]&&errors[data.name][index]?null===(_errors$data$name$ind=errors[data.name][index][field.name])||void 0===_errors$data$name$ind?void 0:_errors$data$name$ind.message:null===(_errors$field$name=errors[field.name])||void 0===_errors$field$name?void 0:_errors$field$name.message;return error&&rowErrors.push(error),react_default.a.createElement(FormField,{data:data,field:field,fieldId:fieldId,hasError:!!error,isRecurring:isRecurring,recurringIndex:index,rowId:idx,stepIndex:stepIndex,wizardData:wizardData})}))),(null==row?void 0:row.divider)&&react_default.a.createElement(rockskit_es.e,{my:null==row?void 0:row.dividerSize}))})),showExpandButton&&react_default.a.createElement(rockskit_es.k,{color:"secondary",onClick:function onClick(){return setExpanded((function(prev){return!prev}))},size:"sm"},expanded?"Hide Optional Params":"Show Optional Params"))};FormRows.propTypes={data:prop_types_default.a.shape({name:prop_types_default.a.string,recurring:prop_types_default.a.bool,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({}))}).isRequired,stepIndex:prop_types_default.a.number.isRequired,wizardData:prop_types_default.a.shape({}).isRequired,index:prop_types_default.a.number.isRequired,isRecurring:prop_types_default.a.bool.isRequired,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({})).isRequired},FormRows.defaultProps={};var Wrapper=styled_components_browser_esm.d.div.withConfig({displayName:"Form__Wrapper",componentId:"sc-11kuada-0"})(["padding:",";background-color:",";border:1px solid ",";border-radius:16px;margin-bottom:16px;"],(function(_ref){return _ref.theme.spacing(2,2,2,6)}),(function(_ref2){return _ref2.theme.palette.gray.light}),(function(_ref3){return _ref3.theme.palette.gray.regular})),ButtonsWrapper=styled_components_browser_esm.d.div.withConfig({displayName:"Form__ButtonsWrapper",componentId:"sc-11kuada-1"})(["display:flex;justify-content:flex-end;margin-bottom:8px;"]),_ref5=react_default.a.createElement(rockskit_es.i,{icon:"trash",prefix:"fa"}),Form=function(_ref4){var data=_ref4.data,stepIndex=_ref4.stepIndex,wizardData=_ref4.wizardData,isRecurring=data.recurring,_useFieldArray=Object(index_esm.c)({name:isRecurring?null==data?void 0:data.name:""}),fields=_useFieldArray.fields,append=_useFieldArray.append,remove=_useFieldArray.remove;Object(react.useEffect)((function(){0===fields.length&&append()}),[]);var renderRows=function(index){return react_default.a.createElement(FormRows,{data:data,index:index,isRecurring:isRecurring,rows:data.rows,stepIndex:stepIndex,wizardData:wizardData})};return react_default.a.createElement(react_default.a.Fragment,null,isRecurring?function renderRecurring(){return fields.map((function(item,idx){return react_default.a.createElement(Wrapper,{key:item.id},react_default.a.createElement(ButtonsWrapper,null,react_default.a.createElement(rockskit_es.k,{color:"danger",disabled:1===fields.length,onClick:function onClick(){return remove(idx)},size:"sm"},_ref5)),renderRows(idx))}))}():renderRows(),isRecurring&&react_default.a.createElement(rockskit_es.t,{content:"+ Add item",onClick:append,size:"sm"}))};Form.propTypes={data:prop_types_default.a.shape({name:prop_types_default.a.string,recurring:prop_types_default.a.bool,rows:prop_types_default.a.arrayOf(prop_types_default.a.shape({}))}).isRequired,stepIndex:prop_types_default.a.number.isRequired,wizardData:prop_types_default.a.shape({}).isRequired},Form.defaultProps={};var Form_Form=Form,index_es=__webpack_require__(4),MegaFlowIcons={faDownload:index_es.q,faHashtag:index_es.y,faTrash:index_es.T},MegaFlowPropTypes={icons:prop_types_default.a.arrayOf(prop_types_default.a.shape()),schema:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.object]).isRequired,onFinish:prop_types_default.a.func,onStepSubmit:prop_types_default.a.func,theme:prop_types_default.a.shape(),wizardProps:prop_types_default.a.shape(),wrapperProps:prop_types_default.a.shape()};function src_extends(){return(src_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function src_slicedToArray(arr,i){return function src_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function src_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function src_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return src_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return src_arrayLikeToArray(o,minLen)}(arr,i)||function src_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function src_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function src_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function src_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var src_Wrapper=styled_components_browser_esm.d.div.withConfig({displayName:"src__Wrapper",componentId:"osiobx-0"})([""]),MegaFlow=function(_ref){var icons=_ref.icons,schema=_ref.schema,onFinish=_ref.onFinish,onStepSubmit=_ref.onStepSubmit,theme=_ref.theme,wizardProps=_ref.wizardProps,wrapperProps=_ref.wrapperProps,props=src_objectWithoutProperties(_ref,["icons","schema","onFinish","onStepSubmit","theme","wizardProps","wrapperProps"]),steps=("string"==typeof schema?JSON.parse(schema):schema).steps,_useState2=src_slicedToArray(Object(react.useState)(0),2),currentStep=_useState2[0],setCurrentStep=_useState2[1],isCurrentLastStep=currentStep===steps.length-1,_useState4=src_slicedToArray(Object(react.useState)({}),2),wizardData=_useState4[0],setWizardData=_useState4[1],_useForm=Object(index_esm.d)({defaultValues:wizardData}),handleSubmit=_useForm.handleSubmit,methods=src_objectWithoutProperties(_useForm,["handleSubmit"]),stepsArray=steps.map((function(st){return{title:st.title}}));return react_default.a.createElement(rockskit_es.b,{icons:_objectSpread(_objectSpread(_objectSpread({},rockskit_es.o),MegaFlowIcons),icons),theme:theme||rockskit_es.p},react_default.a.createElement(src_Wrapper,wrapperProps,react_default.a.createElement(index_esm.b,methods,react_default.a.createElement("form",{onSubmit:handleSubmit((function onSubmit(data){var currentState=_objectSpread(_objectSpread({},wizardData),data);setWizardData(currentState),onStepSubmit&&onStepSubmit(data),isCurrentLastStep?onFinish(currentState):setCurrentStep((function(prev){return prev+1}))}))},react_default.a.createElement(rockskit_es.v,src_extends({currentStepContent:function renderForm(){return react_default.a.createElement(Form_Form,{data:steps[currentStep],stepIndex:currentStep,wizardData:wizardData})}(),currentStepIndex:currentStep,setCurrentStepIndex:setCurrentStep,steps:stepsArray},wizardProps,props))))))};MegaFlow.displayName="MegaFlow",MegaFlow.propTypes=MegaFlowPropTypes,MegaFlow.defaultProps={icons:[],onFinish:function onFinish(){}},MegaFlow.__docgenInfo={description:"",methods:[],displayName:"MegaFlow",composes:["./props"]};var src=MegaFlow;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.js"]={name:"MegaFlow",docgenInfo:MegaFlow.__docgenInfo,path:"src/index.js"});var sample=__webpack_require__(377),stories_Wrapper=(__webpack_exports__.default={title:"MegaFlow"},styled_components_browser_esm.d.div.withConfig({displayName:"stories__Wrapper",componentId:"sc-4r7zl6-0"})(["width:680px;margin:auto;padding:16px 0;"])),main=function(){return react_default.a.createElement(stories_Wrapper,null,react_default.a.createElement(src,{headerFadeColor:"#F7F7F9",onFinish:function onFinish(form){return console.log("form: ",form)},schema:sample}))};main.displayName="main",main.__docgenInfo={description:"",methods:[],displayName:"main"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories.js"]={name:"main",docgenInfo:main.__docgenInfo,path:"src/stories.js"})}},[[386,1,2]]]);
//# sourceMappingURL=main.4ed6a34a1d85b9db14b8.bundle.js.map